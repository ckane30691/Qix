(()=>{var t={102:(t,s,e)=>{const i=e(502),o=e(179),n=e(138);t.exports=class extends o{constructor(t={}){t.radius=1,t.game=t.game,super(t),this.vertices=t.vertices,this.stacked=t.stacked,this.allPoints=t.allPoints,this.gRadius=this.radius+20,this.startPos=t.startPos,this.endPos=t.endPos,this.vel=[0,0],this.pos=[0,0],this.capturePoints=t.capturePoints,this.captureStartPoints=t.captureStartPoints,this.track=t.track,this.captureStartPoints&&this._addStartPointsToAllPoints(),this.stacked&&this._addStackedPointsToAllPoints()}collideWith(t){t instanceof n&&([t.vel[0],t.vel[1]]=[-t.vel[0],-t.vel[1]],document.getElementsByClassName("impact-sound")[0].play())}intersects(t){let s,e,i=t,o=this.allPoints.length;for(let t=0;t<o-1;t++)if(s=this.allPoints[t],e=this.allPoints[t+1],i[0]<=Math.max(s[0],e[0])&&i[0]>=Math.min(s[0],e[0])&&i[1]<=Math.max(s[1],e[1])&&i[1]>=Math.min(s[1],e[1]))return!0;return!1}isCollidedWith(t){for(var s=0;s<this.allPoints.length;s++)if(i.dist(this.allPoints[s],t.pos)<this.radius+t.radius)return!0;return!1}getRemainingPoints(){if(this.track.oppositeEdges(this.startPos,this.endPos)){let t=this.track.buildCornerPairs(this.startPos,this.endPos),s=t[0],e=t[1],o=this.track.formatShape(this.allPoints,s),n=this.track.formatShape(this.allPoints,e),r=i.getArea(...o),a=i.getArea(...n);return Math.abs(r)<=Math.abs(a)?s:e}return[this.track.determineCorner(this.startPos,this.endPos)]}draw(t){t.beginPath(),t.fillStyle=this.color,t.lineWidth=2.5,t.moveTo(this.startPos[0],this.startPos[1]);for(let s=1;s<this.allPoints.length;s++){let e=this.allPoints[s];t.lineTo(e[0],e[1]),t.stroke()}if(t.moveTo(this.startPos[0],this.startPos[1]),!this.track.areOnSameEdge(this.startPos,this.endPos)){let s=this.getRemainingPoints()||[];for(let e=0;e<s.length;e++){let i=s[e];t.lineTo(i[0],i[1]),t.stroke()}}t.lineTo(this.endPos[0],this.endPos[1]),t.fill("evenodd")}_getClosestEndPointFromCapturePoints(){let t=this.capturePoints[0],s=this.capturePoints.slice(-1)[0];return i.dist(this.startPos,t)<=i.dist(this.startPos,s)?t:s}_getAllVerticiesToClosestEndpoint(t){let s,e=this.capturePoints;for(let t=0;t<e.length;t++)this.endPos[0]===e[t][0]&&this.endPos[1]===e[t][1]&&(s=t);return console.log(t,e[0]),t[0]===e[0][0]&&t[1]===e[0][1]?this.capturePoints.slice(0,s):(console.log("elsed"),this.capturePoints.slice(s))}_getClosestStartPointFromExtraStartPoints(){let t=this.captureStartPoints[0],s=this.captureStartPoints.slice(-1)[0];return i.dist(this.startPos,t)<=i.dist(this.startPos,s)?t:s}_getAllVerticiesToClosestStartpoint(t){let s,e=this.captureStartPoints;for(let t=0;t<e.length;t++)this.startPos[0]===e[t][0]&&this.startPos[1]===e[t][1]&&(s=t);return t[0]===e[0][0]&&t[1]===e[0][1]?this.captureStartPoints.slice(0,s):this.captureStartPoints.slice(s)}_addStartPointsToAllPoints(){let t=this._getClosestStartPointFromExtraStartPoints(),s=this._getAllVerticiesToClosestStartpoint(t);this.track.isOnEdge(s[0])||(s=s.reverse());let e=s.concat(this.allPoints);this.allPoints=e,this.startPos=t,this.captureStartPoints=!1}_addStackedPointsToAllPoints(){let t=this._getClosestEndPointFromCapturePoints(),s=this._getAllVerticiesToClosestEndpoint(t);this.track.isOnEdge(s[0])&&(s=s.reverse()),this.allPoints=this.allPoints.concat(s),this.endPos=t,this.stacked=!1}}},138:(t,s,e)=>{const i=e(502),o=e(179);t.exports=class extends o{constructor(t={}){t.color="#505050",t.pos=t.pos||t.game.randomPosition(),t.radius=25,t.vel=t.vel||i.randomVec(4),super(t),this.type="mobile"}collideWith(t){}}},823:(t,s,e)=>{const i=e(138),o=e(703),n=e(585),r=e(102),a=e(66);class h{constructor(){this.ufos=[],this.shipLines=[],this.ships=[],this.captures=[],this.allowedTrack=new a,this.addUfos()}add(t){if(t instanceof i)this.ufos.push(t);else if(t instanceof o)this.shipLines.push(t);else if(t instanceof n)this.ships.push(t);else if(t instanceof r)this.captures.push(t);else if(!(t instanceof a))throw"wtf?"}addUfos(){for(let t=0;t<h.NUM_UFOS;t++)this.add(new i({game:this}))}addShip(){const t=new n({pos:this.shipRandomPos(),game:this,color:"#f71b3c",track:this.allowedTrack});return this.add(t),t}addCapture(t,s,e,i,o,n){let a=this.getAllPoints();const h=new r({startPos:t,endPos:s,stacked:e,vertices:i,color:"#00f6fd",game:this,allPoints:a,capturePoints:o,captureStartPoints:n,track:this.allowedTrack});this.add(h),document.getElementsByClassName("capture-sound")[0].play()}getAllPoints(){return[this.shipLines[0].startPos].concat(this.shipLines.map((t=>[Math.round(t.endPos[0]),Math.round(t.endPos[1])])))}includesPos(t,s){return t.some((t=>t[0]===s[0]&&t[1]===s[1]))}allObjects(){return[].concat(this.ships,this.ufos,this.shipLines,this.captures,this.allowedTrack)}checkCollisions(){const t=this.allObjects();for(let s=0;s<t.length;s++)if(!(t[s]instanceof a))for(let e=0;e<t.length;e++){if(t[e]instanceof a)continue;const i=t[s],o=t[e];if(i.isCollidedWith(o)&&i.collideWith(o))return void document.getElementsByClassName("death-sound")[0].play()}}checkLineComplete(){if(this.shipLines.length<1)return;let t,s=this.shipLines[0].startPos;this.allowedTrack.isOnEdge(s)||(t=!0);let e=this.getAllPoints(),i=this.shipLines.slice(-1)[0].endPos,o=this.captures.length;for(let n=0;n<o;n++){let o=this.captures[n];if(o.intersects(i)){let n=this.getVertices(),r=o.allPoints,a=null;if(t)for(let t=0;t<this.captures.length;t++){let e=this.captures[t];e.intersects(s)&&(a=e.allPoints)}return this.addCapture(s,i,!0,n,r,a),this.completeLine(),void this.allowedTrack.updateTrack(e)}}if(this.ships[0].canDraw&&this.shipLines.length>5&&this.allowedTrack.isOnEdge(i)){let o=null;if(t)for(let t=0;t<this.captures.length;t++){let e=this.captures[t];e.intersects(s)&&(o=e.allPoints)}let n=this.getVertices();this.addCapture(s,i,!1,n,null,o),this.completeLine(),this.allowedTrack.updateTrack(e)}}draw(t){t.clearRect(0,0,h.DIM_X,h.DIM_Y),t.fillStyle=h.BG_COLOR,t.fillRect(0,0,h.DIM_X,h.DIM_Y),this.allObjects().forEach((s=>{s.draw(t)}))}isOutOfBounds(t){return t[0]<75||t[1]<75||t[0]>925||t[1]>525}moveObjects(t){this.allObjects().forEach((s=>{s.move(t)}))}randomPosition(){return[800*Math.random()-200+200,300*Math.random()-200+200]}shipRandomPos(){return[525,75]}remove(t){if(t instanceof o)this.shipLines.splice(this.shipLines.indexOf(t),1);else if(t instanceof i)this.ufos.splice(this.ufos.indexOf(t),1);else{if(!(t instanceof n))throw"wtf?";this.ships.splice(this.ships.indexOf(t),1)}}removeAll(t){(t instanceof o||t instanceof n)&&(this.shipLines=[],this.captures=[],this.ships[0].isDrawing=!1,this.ships[0].canDraw=!1,this.ships[0].color="#f71b3c",this.ships[0].relocate())}getVertices(){let t=this.shipLines[0].shipDir,s=[this.shipLines[0].pos];return this.shipLines.forEach((e=>{e.shipDir!=t&&(s.push(e.pos),t=e.shipDir)})),s.push(this.shipLines.slice(-1)[0].pos),s}completeLine(){this.shipLines=[],this.ships[0].isDrawing=!1,this.ships[0].canDraw=!1,this.ships[0].color="#f71b3c"}determineQuadrant(t){return t[0]<500&&t[1]<300?1:t[0]>500&&t[1]<300?2:t[0]<500&&t[1]>300?3:t[0]>500&&t[1]>300?4:void 0}isWon(){}step(t){this.moveObjects(t),this.checkCollisions(),this.checkLineComplete(),this.isWon()}}h.BG_COLOR="rgba(226, 226, 232, 0.8)",h.DIM_X=1e3,h.DIM_Y=600,h.FPS=60,h.NUM_UFOS=3,t.exports=h},258:t=>{class s{constructor(t,s){this.ctx=s,this.game=t,this.ship=this.game.addShip()}bindKeyHandlers(){const t=this.ship;Object.keys(s.MOVES).forEach((e=>{let i=s.MOVES[e];key(e,(()=>{t.power(i,e)}))})),key("space",(()=>{t.isDrawing||(!0===t.canDraw?(t.canDraw=!1,t.color="#f71b3c"):(t.canDraw=!0,t.color="#00f6fd"))}))}asyncLoop(t){var s=function(){t.functionToLoop(s)};s()}start(){this.bindKeyHandlers(),this.lastTime=0;const t=this;this.asyncLoop({length:1e3,functionToLoop:function(s,e){setTimeout((function(){t.ship.drawLine(),s()}),1)},callback:function(){}}),requestAnimationFrame(this.animate.bind(this))}animate(t){const s=t-this.lastTime;window.animateTime=t,this.game.step(s),this.game.draw(this.ctx),this.lastTime=t,requestAnimationFrame(this.animate.bind(this))}}s.MOVES={w:[0,-25],a:[-25,0],s:[0,25],d:[25,0]},t.exports=s},567:(t,s,e)=>{const{moveSlides:i}=e(729),{handleMute:o}=e(666),{createGame:n}=e(677),{disableSpaceBarScroll:r}=e(30);t.exports={attachEventListeners:()=>{const t=document.getElementById("aboutModal"),s=document.getElementsByClassName("openBtn")[0],e=document.getElementsByClassName("closeBtn")[0],a=document.getElementsByClassName("prev")[0],h=document.getElementsByClassName("next")[0],l=document.getElementsByClassName("start-button")[0],c=document.getElementsByClassName("mute")[0];s.onclick=()=>{t.style.display="block"},e.onclick=()=>{t.style.display="none"},window.onclick=s=>{s.target===t&&(t.style.display="none")},a.onclick=()=>i(-1),h.onclick=()=>i(1),c.onclick=t=>{o(t)},l.onclick=t=>{n(t)},window.onkeydown=t=>{r(t)}}}},677:(t,s,e)=>{const i=e(823),o=e(258),n=document.getElementsByTagName("canvas")[0];n.width=i.DIM_X,n.height=i.DIM_Y,t.exports={createGame:t=>{t.target.className+=" hidden";const s=n.getContext("2d");window.ctx=s;const e=new i;new o(e,s).start()}}},30:t=>{t.exports={disableSpaceBarScroll:t=>{32===t.keyCode&&t.target===document.body&&t.preventDefault()}}},666:t=>{t.exports={handleMute:t=>{let s=document.getElementsByClassName("theme")[0],e=document.getElementsByClassName("capture-sound")[0],i=document.getElementsByClassName("impact-sound")[0],o=document.getElementsByClassName("death-sound")[0];o.muted=!o.muted,i.muted=!i.muted,s.muted=!s.muted,e.muted=!e.muted,t.target.className="mute true"===t.target.className?"mute":"mute true"}}},729:t=>{const s=1;t.exports={setUpSlideShow:()=>{(t=>{let e,i=document.getElementsByClassName("mySlides");for(t>i.length&&(s=1),t<1&&(s=i.length),e=0;e<i.length;e++)i[e].style.display="none";i[s-1].style.display="block"})(s)},moveSlides:e=>{t.exports.showSlides(s+=e)}}},179:(t,s,e)=>{const i=e(502);t.exports=class{constructor(t){this.pos=t.pos,this.vel=t.vel,this.radius=t.radius,this.color=t.color,this.game=t.game,this.isWrappable=!0}collideWith(t){}draw(t){t.fillStyle=this.color,t.beginPath();let s=this.gRadius||this.radius;t.arc(this.pos[0],this.pos[1],s,0,2*Math.PI,!0),t.fill()}isCollidedWith(t){return i.dist(this.pos,t.pos)<this.radius+t.radius}move(t){const s=t/16.666666666666668;let e=this.vel[0]*s,i=this.vel[1]*s;document.getElementsByClassName("impact-sound")[0],this.pos=[this.pos[0]+e,this.pos[1]+i],this.pos[0]+e<70&&(this.vel[0]=-this.vel[0]),this.pos[0]+e>935&&(this.vel[0]=-this.vel[0]),this.pos[1]+i<70&&(this.vel[1]=-this.vel[1]),this.pos[1]+i>535&&(this.vel[1]=-this.vel[1])}remove(){this.game.remove(this)}removeAll(){this.game.removeAll(this)}}},585:(t,s,e)=>{const i=e(179),o=e(703),n=e(502),r=e(102),a=e(138);class h extends i{constructor(t){t.radius=h.RADIUS,t.vel=t.vel||[0,0],t.color=t.color||function(){let t="#";for(let s=0;s<3;s++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t}(),super(t),this.isDrawing=!1,this.canDraw=!1,this.game=t.game,this.track=t.track,this.isHiding=!0,this.gRadius=11,this.endPos=null,this.moveStartTime=null,this.moveEndTime=null,this.startPos=null,this.prevPos=null}drawLine(){if((new Date).getTime(),this.lastCall,this.endPos&&this.endPos!==this.prevPos&&!(this.track.isOnEdge(this.startPos)&&this.track.isOnEdge(this.endPos)||!0!==this.canDraw)){const t=new o({pos:this.pos,vel:[0,0],color:this.color,game:this.game,shipDir:n.direction(this.vel),startPos:this.startPos||this.pos,endPos:this.endPos,moveStartTime:this.moveStartTime});this.lastCall=(new Date).getTime(),this.game.add(t),this.prevPos=this.endPos}}move(t){if(!this.moveStartTime||!this.endPos)return;let s=(performance.now()-this.moveStartTime)/90,e=this.endPos[0]-this.startPos[0],i=this.endPos[1]-this.startPos[1];this.pos[0]=Math.round(this.startPos[0]+e*s),this.pos[1]=Math.round(this.startPos[1]+i*s),s>=1&&(this.startPos=null,this.pos=this.endPos.slice(),this.endPos=null,this.moveStartTime=null,this.moveEndTime=null)}power(t,s){if(!this.moveStartTime&&(this.moveStartTime=performance.now(),this.moveEndTime=1e3*this.moveStartTime,this.startPos=this.pos.slice(),!this.endPos)){let s=[Math.round(this.startPos[0]+t[0]),Math.round(this.startPos[1]+t[1])];if(this.game.isOutOfBounds(s))return void(this.endPos=this.startPos.slice());if(!0===this.canDraw)return this.endPos=s;if(!this.isValidMove(s))return void(this.endPos=this.startPos.slice());this.endPos=s}}isValidMove(t){return Boolean(this.game.allowedTrack.track[t])}relocate(){this.pos=this.game.shipRandomPos(),this.vel=[0,0]}collideWith(t){if(t instanceof o)this.game.shipLines.indexOf(t),this.game.shipLines.length;else{if(t instanceof a)return this.removeAll(),this.canDraw=!1,this.color="#f71b3c",!0;if(t instanceof r)switch(n.direction(this.vel)){case"up":case"down":this.vel=[0,2];break;default:this.vel=[-2,0]}}}isInCapture(t){if(t instanceof r&&t.isCollidedWith(this))return!0}}h.RADIUS=5,t.exports=h},703:(t,s,e)=>{const i=e(179),o=e(102),n=e(138);class r extends i{constructor(t){t.radius=r.RADIUS,super(t),this.gRadius=5,this.shipDir=t.shipDir,this.startPos=t.startPos,this.endPos=t.endPos,this.game=t.game,this.pos=t.pos,this.type="mobile",this.vel=[0,0],this.moveStartTime=t.moveStartTime}draw(t){t.beginPath(),t.strokeStyle=this.color,t.lineWidth=2.5,t.moveTo(this.endPos[0],this.endPos[1]),t.lineTo(this.startPos[0],this.startPos[1]),t.stroke(),t.closePath()}isInCapture(t){if(t instanceof o&&t.isCollidedWith(this))return!0}collideWith(t){if(t instanceof n)return this.removeAll(),!0}}r.RADIUS=3,t.exports=r},66:(t,s,e)=>{const i=e(502);t.exports=class{constructor(){this.color="#04F2D4",this.track=this.initTrack()}initTrack(){let t={};for(let s=75;s<925;s++)t[[s,75]]=!0,t[[s,525]]=!0,s<550&&(t[[75,s]]=!0,t[[925,s]]=!0);return t}move(t){}getEdge(t){return 75===t[0]?75:925===t[0]?925:525===t[1]?525:75===t[1]?75:void 0}areOnSameEdge(t,s){return this.isOnEdge(t)&&this.isOnEdge(s)&&this.getEdge(t)===this.getEdge(s)&&(t[0]===s[0]||t[1]===s[1])}oppositeEdges(t,s){let e=t[1],i=t[0],o=s[1],n=s[0];return 75===e&&525===o||525===e&&75===o||75===i&&925===n||925===i&&75===n}isOnEdge(t){return Boolean(this.getEdge(t))}determineCorner(t,s){let e=t[0],i=t[1],o=s[0],n=s[1],r=[75,525,925],a=r.includes(i)?i:e,h=r.includes(o)?o:n;return a===i?[h,a]:[a,h]}getLeftCornerCoordX(t){return 75===t[1]?[75,75]:[75,525]}getRightCornerCoordX(t){return 75===t[1]?[925,75]:[925,525]}getTopCornerCoordY(t){return 75===t[0]?[75,75]:[925,75]}getBottomCornerCoordY(t){return 75===t[0]?[75,525]:[925,525]}formatShape(t,s){let e=[],i=[];t.forEach((t=>{e.push(t[0]),i.push(t[1])}));let o=[].concat(s[0][0],e,s[1][0]);return[o,[].concat(s[0][1],i,s[1][1]),o.length]}buildCornerPairs(t,s){return 75===t[1]||525===t[1]?[[this.getLeftCornerCoordX(t),this.getLeftCornerCoordX(s)],[this.getRightCornerCoordX(t),this.getRightCornerCoordX(s)]]:[[this.getTopCornerCoordY(t),this.getTopCornerCoordY(s)],[this.getBottomCornerCoordY(t),this.getBottomCornerCoordY(s)]]}updateTrack(t){const s=(t,s)=>{let e=Object.keys(this.track);for(let o=0;o<e.length;o++){let n=i.formatPoint(e[o]);!0!==i.isPointOnLine(t,s,n)||i.areSamePos(t,n)||i.areSamePos(s,n)||(this.track[n]=!1)}};let e=t[0],o=t.slice(-1)[0];if((t=>{t.forEach((t=>{this.track[t]=!0}))})(t),this.areOnSameEdge(e,o))s(e,o);else if(this.oppositeEdges(e,o)){let n=this.buildCornerPairs(e,o),r=n[0],a=n[1],h=this.formatShape(t,r),l=this.formatShape(t,a),c=i.getArea(...h),d=i.getArea(...l);Math.abs(c)<=Math.abs(d)?(s(e,r[0]),s(o,r[1])):(s(e,a[0]),s(o,a[1]))}else{let t=this.determineCorner(e,o);s(e,t),s(o,t)}}draw(t){t.beginPath(),t.strokeStyle=this.color,t.lineWidth=2.5,t.moveTo(75,75),t.lineTo(925,75),t.stroke(),t.lineTo(925,525),t.stroke(),t.lineTo(75,525),t.stroke(),t.lineTo(75,75),t.stroke(),t.closePath()}}},502:t=>{const s={dir(t){var e=s.norm(t);return s.scale(t,1/e)},direction:t=>t[0]>0&&0===t[1]?"right":0===t[0]&&t[1]<0?"up":t[0]<0&&0===t[1]?"left":"down",dist:(t,s)=>Math.sqrt(Math.pow(t[0]-s[0],2)+Math.pow(t[1]-s[1],2)),getArea(t,s,e){let i=0,o=e-1;for(let n=0;n<e;n++)i+=(t[o]+t[n])*(s[o]-s[n]),o=n;return i/2},areSamePos:(t,s)=>t[0]===s[0]&&t[1]===s[1],formatPoint(t){if("string"!=typeof t)throw`you done goofed ${t}`;return t=t.split(","),[Number(t[0]),Number(t[1])]},isPointOnLine:(t,e,i)=>s.dist(t,i)+s.dist(e,i)==s.dist(t,e),intersects(t,s,e){},norm:t=>s.dist([0,0],t),randomVec(t){var e=2*Math.PI*Math.random();return s.scale([Math.sin(e),Math.cos(e)],t)},scale:(t,s)=>[t[0]*s,t[1]*s]};t.exports=s}},s={};function e(i){var o=s[i];if(void 0!==o)return o.exports;var n=s[i]={exports:{}};return t[i](n,n.exports,e),n.exports}(()=>{const{setUpSlideShow:t}=e(729),{attachEventListeners:s}=e(567);document.addEventListener("DOMContentLoaded",(()=>{s(),t()}))})()})();
//# sourceMappingURL=bundle.js.map